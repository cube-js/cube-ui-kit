import { Meta, Canvas, Story, Controls } from '@storybook/addon-docs/blocks';
import { Item } from './Item';
import * as ItemStories from './Item.stories';

<Meta of={ItemStories} />

# Item

A foundational component that provides a standardized layout and styling for item-like elements across the design system. Item offers a flexible grid-based structure with support for icons, labels, descriptions, prefixes, suffixes, and interactive features like hotkeys and tooltips.

## When to Use

- As a building block for other components that need item-like styling (Select options, Menu items, List items, etc.)
- When creating custom interactive elements that need consistent spacing and alignment
- For buttons or clickable elements that need to display structured content with icons and descriptions
- When building components that need to support features like selection states, hotkeys, or overflow tooltips

## Component

<Story of={ItemStories.Default} />

---

## Properties

<Controls of={ItemStories.Default} />

### Content Properties

#### actions
- **Type**: `ReactNode`
- **Description**: Inline action buttons displayed on the right side of the item. Use `Item.Action` for consistent styling. Actions automatically inherit the parent's `type` prop and the component reserves space to prevent content overlap.

### Base Properties

Supports [Base properties](/BaseProperties)

## Styling

### styles

Customizes the root element of the component.

**Sub-elements:**
- `Icon` - The main icon displayed before the content
- `RightIcon` - The icon displayed after the content
- `Label` - The main text content area
- `Description` - The secondary text below or inline with the main content
- `Prefix` - Additional content displayed before the main content
- `Suffix` - Additional content displayed after the main content

### Style Properties

Direct style application without using the `styles` prop: `width`, `height`, `padding`, `margin`, `color`, `fill`, `opacity`, `display`, `position`, `zIndex`, `gap`, `flow`, `placeItems`, `placeContent`, `alignItems`, `justifyContent`, `border`, `radius`, `shadow`, `overflow`.

### Modifiers

The `mods` property accepts the following modifiers:

| Modifier | Type | Description |
|----------|------|-------------|
| has-description-block | `boolean` | Applied when description placement is "block" |
| has-actions-content | `boolean` | Applied when actions have actual content (not just placeholder) |
| checkbox | `boolean` | Applied when using checkbox icon (icon="checkbox") |
| selected | `boolean` | Applied when isSelected is true |
| shape-card | `boolean` | Applied when shape is "card" |
| shape-button | `boolean` | Applied when shape is "button" |
| shape-sharp | `boolean` | Applied when shape is "sharp" |

**Note:** Element presence (Icon, RightIcon, Prefix, Suffix, Description, Actions) is now automatically detected via CSS `:has()` selectors and doesn't require manual modifiers.

## Variants

### Types

- `item` - Default item appearance (no specific styling)
- `primary` - Primary styled item with prominent appearance
- `secondary` - Secondary styled item with moderate emphasis
- `outline` - Item with border outline styling
- `neutral` - Neutral colored item styling
- `clear` - Transparent item with minimal styling
- `link` - Link-styled item appearance

### Themes

- `default` - Standard appearance with default colors
- `danger` - Red theme for destructive or warning actions
- `success` - Green theme for positive actions
- `special` - Special theme with unique styling

### Sizes

- `xsmall` - Extra small size for compact interfaces
- `small` - Small size for dense layouts
- `medium` - Default size for most use cases
- `large` - Large size for prominent items
- `xlarge` - Extra large size for emphasized items
- `inline` - Inline size that adapts to content

### Shapes

- `card` - Card shape with larger border radius (`1cr`)
- `button` - Button shape with default border radius (default)
- `sharp` - Sharp corners with no border radius (`0`)

## Examples

### Basic Usage

```jsx
<Item>Simple item content</Item>
```

### With Icons

```jsx
<Item icon={<IconUser />} rightIcon={<IconSettings />}>
  Item with icons
</Item>
```

### With Description

```jsx
<Item 
  icon={<IconFile />}
  description="Secondary description text"
  descriptionPlacement="inline"
>
  Main item content
</Item>
```

### With Hotkeys

```jsx
<Item 
  as="button"
  hotkeys="cmd+s"
  onClick={() => console.log('Save triggered')}
>
  Save Document
</Item>
```

### With Selection State

```jsx
<Item icon="checkbox" isSelected={true}>
  Selected item with checkbox
</Item>
```

### With Different Shapes

<Story of={ItemStories.DifferentShapes} />

### With Actions

Item supports inline actions that appear on the right side. Use the `Item.Action` compound component for consistent styling:

```jsx
<Item 
  icon={<IconFile />}
  actions={
    <>
      <Item.Action icon={<IconEdit />} aria-label="Edit" onPress={handleEdit} />
      <Item.Action icon={<IconTrash />} aria-label="Delete" onPress={handleDelete} />
    </>
  }
>
  Document with Actions
</Item>
```

Actions automatically inherit the parent's `type` prop and adjust their styling accordingly. The component reserves space for actions to prevent content overlap.

### With Tooltip

By default, Item shows an auto tooltip when content overflows.

**Type:** `string | boolean | object`

**Values:**
- `true` (default) - Shows tooltip with item content when text overflows
- `false` - Disables tooltip entirely
- `string` - Shows tooltip with the specified text (always visible, not auto)
- `object` - Advanced configuration:
  - `title?: string` - Custom tooltip text (when provided, always shows tooltip unless `auto: true`)
  - `auto?: boolean` - Enable/disable auto overflow behavior (defaults to `true` when no `title` is provided)
  - `placement?: string` - Tooltip position (top, bottom, left, right, etc.)
  - Plus other [TooltipProvider props](/docs/overlays-tooltip--docs)

```jsx
{/* Auto tooltip on overflow (default) */}
<Item style={{ width: '200px' }}>
  This is a very long text that will show a tooltip when overflowed
</Item>

{/* Disable tooltip */}
<Item tooltip={false} style={{ width: '200px' }}>
  This text will be truncated without a tooltip
</Item>

{/* Always show custom tooltip */}
<Item tooltip={{ title: 'Custom tooltip text' }}>
  Hover to see custom tooltip
</Item>

{/* Auto tooltip with custom placement */}
<Item tooltip={{ placement: 'right' }} style={{ width: '200px' }}>
  Long text with tooltip on the right when overflowed
</Item>

{/* Custom tooltip only on overflow */}
<Item 
  tooltip={{ title: 'Custom overflow tooltip', auto: true }}
  style={{ width: '200px' }}
>
  This shows custom tooltip only when text overflows
</Item>
```

## Accessibility

### Keyboard Navigation

- `Tab` - Moves focus to the component when it's focusable
- `Space/Enter` - Activates the component when used as a button
- Custom hotkeys - Trigger component actions when hotkeys are specified

### Screen Reader Support

- Component announces its role based on the `as` prop (button, link, etc.)
- Selection state is announced when `isSelected` is used
- Disabled state is properly communicated
- Tooltip content is accessible to screen readers

### ARIA Properties

- `aria-label` - Provides accessible label when no visible label exists
- `aria-disabled` - Indicates disabled state
- `aria-selected` - Indicates selection state when applicable
- `tabIndex` - Controls focus behavior

## Best Practices

1. **Do**: Use clear, descriptive text for the main content
   ```jsx
   <Item icon={<IconUser />}>User Profile</Item>
   ```

2. **Do**: Use descriptions to provide additional context
   ```jsx
   <Item icon={<IconFile />} description="Last edited 2 hours ago">
     Document.pdf
   </Item>
   ```

3. **Do**: Use hotkeys for frequently accessed actions
   ```jsx
   <Item as="button" hotkeys="cmd+s" onPress={handleSave}>
     Save Document
   </Item>
   ```

4. **Do**: Use `Item.Action` for inline actions
   ```jsx
   <Item 
     icon={<IconFile />}
     actions={
       <>
         <Item.Action icon={<IconEdit />} aria-label="Edit" />
         <Item.Action icon={<IconTrash />} aria-label="Delete" />
       </>
     }
   >
     File with Actions
   </Item>
   ```

5. **Don't**: Add too many actions (limit to 2-3 for clarity)
   ```jsx
   {/* Avoid this - too many action buttons */}
   <Item 
     actions={
       <>
         <Item.Action icon={<IconEdit />} aria-label="Edit" />
         <Item.Action icon={<IconCopy />} aria-label="Copy" />
         <Item.Action icon={<IconShare />} aria-label="Share" />
         <Item.Action icon={<IconTrash />} aria-label="Delete" />
       </>
     }
   >
     Item with too many actions
   </Item>
   ```

6. **Don't**: Overcrowd the component with too many elements
   ```jsx
   {/* Avoid this - too many elements competing for attention */}
   <Item 
     icon={<IconA />} 
     rightIcon={<IconB />} 
     prefix="Pre" 
     suffix="Suf"
     description="Very long description with lots of details"
   >
     Complex item with everything
   </Item>
   ```

7. **Accessibility**: Always ensure interactive items are focusable and have proper ARIA attributes, and provide `aria-label` for action buttons

## Related Components

- [ItemButton](/docs/actions-itembutton--docs) - Interactive button built on Item
- [Item.Action](/docs/actions-itemaction--docs) - Action button component for inline actions (also available as `ItemButton.Action`, `Menu.Item.Action`, etc.)
- [Select](/docs/forms-select--docs) - Dropdown selection component using Item
- [ComboBox](/docs/forms-combobox--docs) - Searchable dropdown component using Item
- [ListBox](/docs/forms-listbox--docs) - List selection component using Item
- [FilterListBox](/docs/forms-filterlistbox--docs) - Filterable list component using Item
- [FilterPicker](/docs/forms-filterpicker--docs) - Filter selection component using Item
- [Menu](/docs/actions-menu--docs) - Context menu component using Item
- [CommandMenu](/docs/actions-commandmenu--docs) - Command palette component using Item
- [Button](/docs/actions-button--docs) - Traditional button component
- [Link](/docs/navigation-link--docs) - Text link component
- [Text](/docs/generic-text--docs) - Typography component for simple text
