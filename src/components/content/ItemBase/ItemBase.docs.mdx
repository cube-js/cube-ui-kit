import { Meta, Canvas, Story, Controls } from '@storybook/addon-docs/blocks';
import { ItemBase } from './ItemBase';
import * as ItemBaseStories from './ItemBase.stories';

<Meta of={ItemBaseStories} />

# ItemBase

A foundational component that provides a standardized layout and styling for item-like elements across the design system. ItemBase offers a flexible grid-based structure with support for icons, labels, descriptions, prefixes, suffixes, and interactive features like hotkeys and tooltips.

## When to Use

- As a building block for other components that need item-like styling (Select options, Menu items, List items, etc.)
- When creating custom interactive elements that need consistent spacing and alignment
- For buttons or clickable elements that need to display structured content with icons and descriptions
- When building components that need to support features like selection states, hotkeys, or overflow tooltips

## Component

<Story of={ItemBaseStories.Default} />

---

## Properties

<Controls of={ItemBaseStories.Default} />

### Content Properties

#### actions
- **Type**: `ReactNode`
- **Description**: Inline action buttons displayed on the right side of the item. Use `ItemBase.Action` for consistent styling. Actions automatically inherit the parent's `type` prop and the component reserves space to prevent content overlap.

### Base Properties

Supports [Base properties](/BaseProperties)

## Styling

### styles

Customizes the root element of the component.

**Sub-elements:**
- `Icon` - The main icon displayed before the content
- `RightIcon` - The icon displayed after the content
- `Label` - The main text content area
- `Description` - The secondary text below or inline with the main content
- `Prefix` - Additional content displayed before the main content
- `Suffix` - Additional content displayed after the main content

### Style Properties

Direct style application without using the `styles` prop: `width`, `height`, `padding`, `margin`, `color`, `fill`, `opacity`, `display`, `position`, `zIndex`, `gap`, `flow`, `placeItems`, `placeContent`, `alignItems`, `justifyContent`, `border`, `radius`, `shadow`, `overflow`.

### Modifiers

The `mods` property accepts the following modifiers:

| Modifier | Type | Description |
|----------|------|-------------|
| with-icon | `boolean` | Applied when an icon is present |
| with-right-icon | `boolean` | Applied when a right icon is present |
| with-prefix | `boolean` | Applied when a prefix is present |
| with-suffix | `boolean` | Applied when a suffix is present |
| with-description | `boolean` | Applied when a description is present |
| with-description-block | `boolean` | Applied when description placement is "block" |
| checkbox | `boolean` | Applied when using checkbox icon (icon="checkbox") |
| selected | `boolean` | Applied when isSelected is true |

## Variants

### Types

- `item` - Default item appearance (no specific styling)
- `primary` - Primary styled item with prominent appearance
- `secondary` - Secondary styled item with moderate emphasis
- `outline` - Item with border outline styling
- `neutral` - Neutral colored item styling
- `clear` - Transparent item with minimal styling
- `link` - Link-styled item appearance

### Themes

- `default` - Standard appearance with default colors
- `danger` - Red theme for destructive or warning actions
- `success` - Green theme for positive actions
- `special` - Special theme with unique styling

### Sizes

- `xsmall` - Extra small size for compact interfaces
- `small` - Small size for dense layouts
- `medium` - Default size for most use cases
- `large` - Large size for prominent items
- `xlarge` - Extra large size for emphasized items
- `inline` - Inline size that adapts to content

## Examples

### Basic Usage

```jsx
<ItemBase>Simple item content</ItemBase>
```

### With Icons

```jsx
<ItemBase icon={<IconUser />} rightIcon={<IconSettings />}>
  Item with icons
</ItemBase>
```

### With Description

```jsx
<ItemBase 
  icon={<IconFile />}
  description="Secondary description text"
  descriptionPlacement="inline"
>
  Main item content
</ItemBase>
```

### With Hotkeys

```jsx
<ItemBase 
  as="button"
  hotkeys="cmd+s"
  onClick={() => console.log('Save triggered')}
>
  Save Document
</ItemBase>
```

### With Selection State

```jsx
<ItemBase icon="checkbox" isSelected={true}>
  Selected item with checkbox
</ItemBase>
```

### With Actions

ItemBase supports inline actions that appear on the right side. Use the `ItemBase.Action` compound component for consistent styling:

```jsx
<ItemBase 
  icon={<IconFile />}
  actions={
    <>
      <ItemBase.Action icon={<IconEdit />} aria-label="Edit" onPress={handleEdit} />
      <ItemBase.Action icon={<IconTrash />} aria-label="Delete" onPress={handleDelete} />
    </>
  }
>
  Document with Actions
</ItemBase>
```

Actions automatically inherit the parent's `type` prop and adjust their styling accordingly. The component reserves space for actions to prevent content overlap.

### With Tooltip

By default, ItemBase shows an auto tooltip when content overflows.

**Type:** `string | boolean | object`

**Values:**
- `true` (default) - Shows tooltip with item content when text overflows
- `false` - Disables tooltip entirely
- `string` - Shows tooltip with the specified text (always visible, not auto)
- `object` - Advanced configuration:
  - `title?: string` - Custom tooltip text (when provided, always shows tooltip unless `auto: true`)
  - `auto?: boolean` - Enable/disable auto overflow behavior (defaults to `true` when no `title` is provided)
  - `placement?: string` - Tooltip position (top, bottom, left, right, etc.)
  - Plus other [TooltipProvider props](/docs/overlays-tooltip--docs)

```jsx
{/* Auto tooltip on overflow (default) */}
<ItemBase style={{ width: '200px' }}>
  This is a very long text that will show a tooltip when overflowed
</ItemBase>

{/* Disable tooltip */}
<ItemBase tooltip={false} style={{ width: '200px' }}>
  This text will be truncated without a tooltip
</ItemBase>

{/* Always show custom tooltip */}
<ItemBase tooltip={{ title: 'Custom tooltip text' }}>
  Hover to see custom tooltip
</ItemBase>

{/* Auto tooltip with custom placement */}
<ItemBase tooltip={{ placement: 'right' }} style={{ width: '200px' }}>
  Long text with tooltip on the right when overflowed
</ItemBase>

{/* Custom tooltip only on overflow */}
<ItemBase 
  tooltip={{ title: 'Custom overflow tooltip', auto: true }}
  style={{ width: '200px' }}
>
  This shows custom tooltip only when text overflows
</ItemBase>
```

## Accessibility

### Keyboard Navigation

- `Tab` - Moves focus to the component when it's focusable
- `Space/Enter` - Activates the component when used as a button
- Custom hotkeys - Trigger component actions when hotkeys are specified

### Screen Reader Support

- Component announces its role based on the `as` prop (button, link, etc.)
- Selection state is announced when `isSelected` is used
- Disabled state is properly communicated
- Tooltip content is accessible to screen readers

### ARIA Properties

- `aria-label` - Provides accessible label when no visible label exists
- `aria-disabled` - Indicates disabled state
- `aria-selected` - Indicates selection state when applicable
- `tabIndex` - Controls focus behavior

## Best Practices

1. **Do**: Use clear, descriptive text for the main content
   ```jsx
   <ItemBase icon={<IconUser />}>User Profile</ItemBase>
   ```

2. **Do**: Use descriptions to provide additional context
   ```jsx
   <ItemBase icon={<IconFile />} description="Last edited 2 hours ago">
     Document.pdf
   </ItemBase>
   ```

3. **Do**: Use hotkeys for frequently accessed actions
   ```jsx
   <ItemBase as="button" hotkeys="cmd+s" onPress={handleSave}>
     Save Document
   </ItemBase>
   ```

4. **Do**: Use `ItemBase.Action` for inline actions
   ```jsx
   <ItemBase 
     icon={<IconFile />}
     actions={
       <>
         <ItemBase.Action icon={<IconEdit />} aria-label="Edit" />
         <ItemBase.Action icon={<IconTrash />} aria-label="Delete" />
       </>
     }
   >
     File with Actions
   </ItemBase>
   ```

5. **Don't**: Add too many actions (limit to 2-3 for clarity)
   ```jsx
   {/* Avoid this - too many action buttons */}
   <ItemBase 
     actions={
       <>
         <ItemBase.Action icon={<IconEdit />} aria-label="Edit" />
         <ItemBase.Action icon={<IconCopy />} aria-label="Copy" />
         <ItemBase.Action icon={<IconShare />} aria-label="Share" />
         <ItemBase.Action icon={<IconTrash />} aria-label="Delete" />
       </>
     }
   >
     Item with too many actions
   </ItemBase>
   ```

6. **Don't**: Overcrowd the component with too many elements
   ```jsx
   {/* Avoid this - too many elements competing for attention */}
   <ItemBase 
     icon={<IconA />} 
     rightIcon={<IconB />} 
     prefix="Pre" 
     suffix="Suf"
     description="Very long description with lots of details"
   >
     Complex item with everything
   </ItemBase>
   ```

7. **Accessibility**: Always ensure interactive items are focusable and have proper ARIA attributes, and provide `aria-label` for action buttons

## Related Components

- [ItemButton](/docs/actions-itembutton--docs) - Interactive button built on ItemBase
- [ItemBase.Action](/docs/actions-itemaction--docs) - Action button component for inline actions (also available as `ItemButton.Action`, `Menu.Item.Action`, etc.)
- [Select](/docs/fields-select--docs) - Dropdown selection component using ItemBase
- [ComboBox](/docs/fields-combobox--docs) - Searchable dropdown component using ItemBase
- [ListBox](/docs/fields-listbox--docs) - List selection component using ItemBase
- [FilterListBox](/docs/fields-filterlistbox--docs) - Filterable list component using ItemBase
- [FilterPicker](/docs/fields-filterpicker--docs) - Filter selection component using ItemBase
- [Menu](/docs/actions-menu--docs) - Context menu component using ItemBase
- [CommandMenu](/docs/actions-commandmenu--docs) - Command palette component using ItemBase
- [Button](/docs/actions-button--docs) - Traditional button component
- [Link](/docs/navigation-link--docs) - Text link component
- [Text](/docs/generic-text--docs) - Typography component for simple text
